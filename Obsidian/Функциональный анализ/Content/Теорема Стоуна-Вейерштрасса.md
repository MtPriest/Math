

Теорема Стоуна--Вейерштрасса {#sec_thr_st_v}
----------------------------

[\[Dini\]]{#Dini label="Dini"} Пусть $K$ --- компакт и
$\{x_n\}_{n=1}^\infty$ --- такая последовательность непрерывных
вещественнозначных функций на $K$, что $x_n(t)\leqslant x_{n+1}(t)$ для
всех $t\in K$ и $n=1,2,\ldots$. Если существует такая непрерывная
функция $x\colon K\to\mathbb{R}$, что $\lim_{n\to\infty}x_n(t)=x(t)$ для
всех $t\in K$ (то есть $\{x_n\}_{n=1}^\infty$ сходится к $x$ поточечно),
то последовательность $\{x_n\}_{n=1}^\infty$ сходится к $x$ равномерно.

Пусть $\varepsilon>0$. Множества
$V_n = \left\lbrace t\in K : x(t)-x_n(t) < \varepsilon \right\rbrace$
открыты и образуют возрастающую последовательность
$V_1\subset V_2\subset\ldots$. Ясно, что семейство
$\{V_n\}_{n=1}^\infty$ является открытым покрытием компакта $K$. Пусть
$\{V_1,V_2,\ldots , V_{n_0}\}$ --- его конечное подпокрытие. Тогда
$$K=\bigcup_{j=1}^{n_0} V_j = V_{n_0}=V_{n_0+1}=\ldots.$$ Последнее
равенство означает, что для произвольного $\varepsilon>0$ нашелся такой
номер $n_0$, что $x(t)-x_n(t) < \varepsilon$ для всех $n\geqslant n_0$ и
каждого $t\in K$. Таким образом, последовательность
$\{x_n\}_{n=1}^\infty$ сходится к $x$ равномерно.

Существует последовательность $\{p_n\}_{n=1}^\infty$ многочленов,
равномерно сходящаяся к функции $\sqrt{t}$ на отрезке $[0;1]$.

Определим последовательность $\{p_n\}_{n=1}^\infty$ рекуррентными
формулами
$$p_1\equiv 0\  \text{ и }\  p_{n+1}(t)=p_n(t)+\frac{1}{2}\left( t-p_n^2(t)\right)  \text{ при } n=1,2,\ldots . \tag{$\ast$}$$
Докажем по индукции, что
$$p_n(t)\leqslant\sqrt{t} \ \text{ для всех }\ t\in [0;1] \text{ и } n=1,2,\ldots . \tag{$\ast\ast$}$$
Это неравенство верно при $n=1$. Предположим, что
$p_n(t)\leqslant\sqrt{t}$. Так как $$\begin{aligned}
    \sqrt{t}-p_{n+1}(t)= & \sqrt{t}-p_n(t)-\frac{1}{2}\left( t-p_n^2(t)\right) =\\
    = & \left( \sqrt{t}-p_n(t) \right) \left( 1- \frac{1}{2}\left( \sqrt{t}+p_n(t)\right)  \right),
    \end{aligned}$$ то из индуктивного предположения и неравенства
$t\leqslant 1$ следует, что
$$\sqrt{t}-p_{n+1}(t)\geqslant \left( \sqrt{t}-p_n(t) \right) \left( 1-\frac{1}{2}2\sqrt{t} \right)\geqslant 0.$$
Таким образом, неравенство ($\ast\ast$) доказано.

Из ($\ast$) и ($\ast\ast$) вытекает, что $p_n(t)\leqslant p_{n+1}(t)$
для всех $t\in [0;1]$ и $n=1,2,\ldots$. Вместе с ($\ast\ast$) это
показывает, что при каждом $t\in [0;1]$ существует предел $x(t)$
последовательности $\{p_n(t)\}_{n=1}^\infty$. Переход к пределу в
($\ast$) дает нам равенство $x(t)=\sqrt{t}$ для всех $t\in [0;1]$, а из
следует, что последовательность $\{p_n\}_{n=1}^\infty$ равномерно на
отрезке $[0;1]$ сходится к $x$.

Пусть $K$ --- топологическое пространство и $C(K)$ --- множество всех
непрерывных вещественнозначных функций на $K$. Семейство
$\mathcal{P}\subset C(K)$ называется *кольцом функций*, если для всех
$x,y\in\mathcal{P}$ функции $x+y$, $x-y$ и $x\cdot y$ тоже принадлежат
$\mathcal{P}$.

Само множество $C(K)$ является кольцом, содержащим все постоянные
функции и замкнутым относительно равномерной сходимости.

[\[max\_min\_in\_P\]]{#max_min_in_P label="max_min_in_P"} Пусть
$\mathcal{P}$ --- некоторое кольцо непрерывных ограниченных
вещественнозначных функций на топологическом пространстве $K$. Если
$\mathcal{P}$ содержит все постоянные функции и замкнуто относительно
равномерной сходимости, то для всех $x,y\in\mathcal{P}$ функции
$\max\{x,y\}$ и $\min\{x,y\}$ тоже принадлежат $\mathcal{P}$.

Так как
$$\max\{x,y\}=\frac{x+y+\lvert x-y \rvert}{2}\ \text{ и }\ \min\{x,y\}=\frac{x+y-\lvert x-y \rvert}{2},$$
то достаточно показать, что если $x\in\mathcal{P}$, то и
$\lvert x \rvert\in\mathcal{P}$. Пусть $x\in\mathcal{P}$ и $c>0$ ---
такое число $\lvert x(t) \rvert\leqslant c$ для всех $t\in K$.
Достаточно доказать, что $\frac{1}{c}\lvert x \rvert\in\mathcal{P}$;
поэтому можно считать, что $\lvert x(t) \rvert\leqslant 1$ для всех
$t\in K$. По предыдущей лемме функция $\lvert x \rvert=\sqrt{x^2}$
является пределом равномерно сходящейся последовательности функций
$\{x_n\}_{n=1}^\infty\subset\mathcal{P}$, а именно последовательности
$x_n(t)=p_n\left( x^2(t) \right)$.

Если $x\colon [a;b]\to \mathbb{R}$ --- непрерывная функция, то найдётся
последовательность $\{p_n\}_{n=1}^\infty$ многочленов, равномерно
сходящаяся к $x$.

Говорят, что кольцо $\mathcal{P}\subset C(K)$ *разделяет точки*
пространства $K$, если для любых различных $t,\,s\in K$ найдётся такая
функция $x\in\mathcal{P}$, что $x(t)\ne x(s)$.

[\[thr\_stone\_ve\]]{#thr_stone_ve label="thr_stone_ve"} Если
$\mathcal{P}\subset C(K)$ --- замкнутое кольцо, содержащее все
постоянные функции и разделяющее точки компакта $K$, то
$\mathcal{P} = C(K)$.

Другая формулировка: любое кольцо $\mathcal{P}$ непрерывных
вещественнозначных функций на компакте $K$, содержащее все постоянные
функции и разделяющее точки компакта $K$, всюду плотно в $C(K)$.

Достаточно доказать, что для любой функции $x\in C(K)$ и любого
$\varepsilon>0$ найдется такая функция $x_\varepsilon\in\mathcal{P}$,
что $\lvert x_\varepsilon(t)-x(t) \rvert<\varepsilon$ для всех $t\in K$.

Для каждой пары различных точек $a,b\in K$ существует функция
$h\in\mathcal{P}$ такая, что $h(a)\ne h(b)$. Функция $g$, определенная
формулой $$g(t)=\frac{h(t)-h(a)}{h(b)-h(a)}$$ также принадлежит
$\mathcal{P}$ и обладает тем свойством, что $g(a)=0$ и $g(b)=1$.
Наконец, определим функцию $x_{a,b}\in\mathcal{P}$ формулой:
$$x_{a,b}(t)=\left( x(b)-x(a)\right)g(t)+x(a).$$ Для нее выполняются
равенства $x_{a,b}(a)=x(a)$ и $x_{a,b}(b)=x(b)$.

Рассмотрим множества
$$U_{a,b}=\left\lbrace t\in K : x_{a,b}(t)<x(t)+\varepsilon \right\rbrace\ \text{ и }\ V_{a,b}=\left\lbrace t\in K : x_{a,b}(t)>x(t)-\varepsilon \right\rbrace.$$
Каждое из них является окрестностью точек $a$ и $b$. Зафиксируем точку
$b$ и рассмотрим открытое покрытие $\{U_{a,b}\}_{a\in K}$ компакта $K$.
Пусть $\{U_{a_1,b}, \ldots , U_{a_k,b}\}$ --- его конечное подпокрытие.
По функция $x_b=\min\{x_{a_1,b}, \ldots , x_{a_k,b}\}$ принадлежит
$\mathcal{P}$. Очевидно, что $x_b(t)<x(t)+\varepsilon$ для всех $t\in K$
и что $x_b(t)>x(t)-\varepsilon$ для всех
$t\in V_b = \cap_{j=1}^k V_{a_j,b}$.

Множество $V_b$ является окрестностью точки $b$. Возьмем конечное
подпокрытие $\{V_{b_1},\ldots , V_{b_m}\}$ открытого покрытия
$\{V_b\}_{b\in K}$ компакта $K$. В силу функция
$x_\varepsilon=\max\{x_{b_1}, \ldots , x_{b_m}\}$ принадлежит
$\mathcal{P}$. Очевидно, что
$\left\lvert x_\varepsilon(t)-x(t) \right\rvert<\varepsilon$ для всех
$t\in K$.

$C[a;b]\supset P[a;b]$. Так как $P[a;b]$ содержит все константы и
разделяет точки (например, функция $p(t)=t$), то
$\overline{P[a;b]}=C[a;b]$.

$\mathcal{P}=\left\lbrace x\in C[a;b] : x(a)=0 \right\rbrace$ ---
замкнутое кольцо, разделяющее точки (например, функция $x(t)=t-a$). Из
констант содержит только тождественный ноль. Ясно, что
$\mathcal{P}\ne C[a;b]$.

$\mathcal{P}=\left\lbrace x\in C[a;b] : x(a)=x(b) \right\rbrace$ ---
замкнутое кольцо, содержащее все константы, но не разделяющее точки.
Ясно, что $\mathcal{P}\ne C[a;b]$.

Пусть $K=[a;b]\times [a;b]$. Рассмотрим в $C(K)$ кольцо $\mathcal{P}$
всех многочленов вида $p(t,s)=\sum_{i,j=0}^n a_{ij}t^i s^j$. Это кольцо
содержит все константы и различает точки. Значит, что
$\bar{\mathcal{P}}=C(K)$.

$C[0;2\pi]$.
$$\mathcal{P}=\left\lbrace a_0+a_1\cos t +b_1\sin t + \ldots + a_n\cos nt + b_n\sin nt \mid n\in\mathbb{N}; a_i,b_i\in \mathbb{R} \right\rbrace.$$
$\mathcal{P}$ --- это кольцо, так как $$\begin{aligned}
    \sin\alpha\cdot\sin\beta & =\frac{1}{2}(\cos(\alpha-\beta)-\cos(\alpha+\beta));\\
    \cos\alpha\cdot\cos\beta & =\frac{1}{2}(\cos(\alpha-\beta)+\cos(\alpha+\beta));\\
    \sin\alpha\cdot\cos\beta & =\frac{1}{2}(\sin(\alpha-\beta)+\sin(\alpha+\beta)).
    \end{aligned}$$ Это кольцо различает все точки, кроме точек $0$ и
$2\pi$. Ясно, что
$C(S^1)\cong\left\lbrace x\in C[0;2\pi] : x(0)=x(2\pi) \right\rbrace$. В
пространстве $C(S^1)$ кольцо $\mathcal{P}$ будет всюду плотно.

Условие компактности $K$ в теореме Стоуна--Вейерштрасса существенно.
Например, замыкание кольца в $C(\mathbb{R})$, состоящего из всех
функций, постоянных вне некоторого интервала, удовлетворяет всем
условиям теоремы Стоуна--Вейерштрасса, но не совпадает с
$C(\mathbb{R})$(например, не содержит функцию $\sin t$).

Если тихоновское пространство $K$ удовлетворяет теореме
Стоуна--Вейерштрасса, то $K$ --- компакт.

Пусть теперь $C(K)$ --- множество всех комплекснозначных непрерывных
функций, заданных на $K$.

Замкнутое кольцо в $C(K)$, которое разделяет точки пространства $K$,
содержит все постоянные функции и замкнуто относительно перехода к
комплексно-сопряжённой функции, совпадает с $C(K)$.

Пусть
$D=\left\lbrace z\in\mathbb{C} : \lvert z \rvert\leqslant 1 \right\rbrace$.
Рассмотрим в $C(D)$ кольцо
$$\mathcal{P}=\left\lbrace f\in C(D) : f \text{ аналитична на }\mathop{\mathrm{Int}}D \right\rbrace.$$
Это кольцо содержит все константы, разделяет точки (например, функция
$f(z)=z$), но не содержит функцию $\bar{f}(z)=\bar{z}$. Значит,
$\bar{\mathcal{P}}\ne C(D)$.