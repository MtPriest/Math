# Пояснительная записка проекта "Подходы к оценке и обоснованию запасов месторождений"
В рамках большой математической мастерской нашей команде предложили оценить запасы некоторого месторождения природного газа.
К сожаления в нашей команде не нашлось человека обладающего хотя бы каким-то понимеанием предметной области, потму мы опирались исключительно на наши математические знания. В рамках мастерской нам была проведена серия лекций, позволившая хоть как-то познакомиться с пердметной сферой
## От чего мы отталкивались
Во время рассказа о заодаче нам пояснили механику оценки запасов, которая происходит сейчас. По  сути он сводиться к простому использованию простой, так называемой "нуль-формулы":
$$Q=S*H_{эФ}*К_п*К_г*f_t*f_p$$
Где $Q\ -$ запасы месторождения, $H_{эф}\ -$ средняя эффективеая толщина месторождения,  $К_п\ -$ [[Коэффицент пористости|коэффициент пористости]] (показывает объём пустот в породе), $К_г\ -$ [[Коэффицент газонасыщенности|коэффинциент газонасыщенности]] (показывает объём газа в жтих пустотах, $f_p$, $f_t\ -$ показатели температуры и давления. 
Все эти параметры получаются в основном с помощью разведочных скважин.
Это пример детерминисткого подхода, в котором результатом является число $-$ объём ресурса в пласте. Помимо нуль-формулы ещё существует семецство методов, производящих некоторую интерполяцию значений по скважинам, это тоже детерминистский подход, результатом которого будет число.
Заказчик попросил реализовать стохастический метод, результатом которого будет функция распределения ресурса.
В рамках мастерской мы решили отталкиваться от простого, от самой обычной нуль-формулы.
Ниже вы можете увидеть алгоритм который мы получили в качестве результата нашей двухнедельной работы в рамках Большой математической мастерской. 
## Наш алгоритм действий при оценке запаса
Из файла получаем границу пласта

Из РИГИСов получаем дискретное расперделение  Кп, Кг по каждой шахте

Делим пласт на участки с помошью диаграм Вороного
>Диаграмма Вороного конечного множества точек S на плоскости представляет такое разбиение плоскости, при котором каждая область этого разбиения образует множество точек, более близких к одному из элементов множества S, чем к любому другому элементу множества

Из РИГИСов эффективные высоты $H_{эф}$ всех участков пласта

Каждая скважина отвечает за свой участок, распределение в котором как-то зависит  от расперделения скважины

Перемножаем  распределения коэффициентов $К_г$ и $К_п$
$$\{v\}_i = \{К_п\}_i\{К_г\}_i$$
>Здесь и даоее когда упоминаеися распределение, подразумевается дискретное распределение (то есть вероятность получения каждого из имеющихся чисел), если не сказано иное 

Корректируем их в соответствии с формулой:
$$
\{v_{кор}\}_i = \frac12\{v\}_i
+
\frac1{2P_i\sum_{j=1}^m\frac1{\alpha_{ij}}}\sum_{k=1}^p\frac{p_{ik}}{\alpha_{ik}}v_{ik}
$$
, где $P_i\ -$ периметр участка, $\alpha_{ij}$ или $\alpha_{ik}\ -$ половина расстояния до соседней скважины, $p_{ik} -$  длина границы с соседним участком

Перемножая скорректированные коэффиценты на произведение  площади соответствующего участка на его среднюю эффективную высоту мы получаем расспределение ресурса (без поправки на температуру и давление под землей) нас отвечает за весь участок.
$$
\{Q\}_i= \{v_{кор}\}_i*(H_{эф})_i*S_i
$$

Таким обращом мы получаем оценку ресурса на каждом участке, после чего суммируем полученные распределения, и домножая на коэффиценты температуры и давления, получаем оценку запаса ресурса на всем пласте.
$$
\{Q\}=f_pf_t\sum_{i=1}^n\{Q\}_i
$$

Если собрать общую формулу, то получим:
$$
\{Q\} = f_tf_p\sum_{i=1}^n  S_i H_i
\Big(
\frac12\{K_г\}_i\{K_п\}_i + \frac1{2P_i\sum_{j=1}^m\frac1{\alpha_{ij}}}\sum_{k=1}^p\frac{p_{ik}}{\alpha_{ik}}\{К_г\}_{ik}\{К_п\}_{ik}
\Big)
$$

## Точки роста
К сожалениию наша работа на мастерской ограничена лишь двумя неделями, потому мы не успели реализовать некоторые идеи или проверить часть гипотез, вот некоторые из них:
1. Реинтерпретация ГИСов
2. Другие способы разбиения площади
3. Также можно  разбивать не на площадь и толщину, а на объёмы
 4. Корректировать значение value, в соответствии с более релевантными коэффициентами
 5. Интерполяция с заменой функции плотности на функцию плотностей распределения
 6. Дополнительно интерполировать полученные запасы на отдельных участках